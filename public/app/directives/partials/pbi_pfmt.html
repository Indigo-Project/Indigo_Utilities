<section class="function-section pbi-pfmt">
  <div class="report-type-selection">
    <div class="report-type-select">
      <h6>Select Report Type</h6>
      <select class="form-control" ng-model="uploader.reportType">
        <option value=""> -- select type -- </option>
        <option value="TriMetrix HD Talent (Legacy)">TriMetrix HD Talent (Legacy)</option>
        <option value="Talent Insights">Talent Insights</option>
        <option value="Hartman Value Profile">Hartman Value Profile</option>
        <option value="TTI DNA Personal Soft Skills Indicator">TTI DNA Personal Soft Skills Indicator</option>
      </select>
      <h6>Select Report Type</h6>
      <select class="form-control" ng-model="uploader.role">
        <option value=""> -- select type -- </option>
        <option value="Students">Students</option>
        <option value="Staff">Staff</option>
      </select>
    </div>
    <div class="student-options" ng-show="uploader.role === 'Students'">
      <div class="year-taken">
        <h6>Enter School Year Taken (format: 2016-2017)</h6>
        <input type="text" class="form-control year-taken" pattern=".{9}" ng-model="uploader.schoolYearTaken">
      </div>
      <div>
        <h6>Enter Class (format: 2020)</h6>
        <input type="number" class="form-control" pattern=".{4}" ng-model="uploader.class">
      </div>
    </div>
  </div>
  <form name="fileUploader" class="add-reports" ng-submit="uploader.addChosenReports()">
    <input class="upload-csv form-control" id="tti-file-uploader" name="files"  type="file" accept=".csv" fileread="uploader.file"></input>
    <button type="submit" class="add-reports form-control">Add Report(s) to Formatting Queue</button>
  </form>
  <div class="queued-reports">
    <h5>Reports To Be Formatted:</h5>
    <table class="table queued-reports">
      <thead>
        <th>File Name</th>
        <th>Report Type</th>
        <th>Role</th>
        <th>School Year Taken</th>
        <th>Class</th>
      </thead>
      <tr ng-repeat="file in uploader.loadedFiles">
        <td>{{file.name}}</td>
        <td>{{file.reportType}}</td>
        <td>{{file.role}}</td>
        <td>{{file.schoolYearTaken}}</td>
        <td>{{file.class}}</td>
      </tr>
    </table>
  </div>
  <form class="download-form" ng-submit="data.formatCSVFiles(data.formatFileName)">
    <input class="form-control format-file-name" type="text" placeholder="enter desired file name (without extension)" ng-model="data.formatFileName">
    <button type="submit" class="format-data form-control">Format TTI Data for Download</button>
  </form>
</section>
